{"ast":null,"code":"import React,{useEffect,useRef}from\"react\";import*as d3 from\"d3\";import jsonData from\"../Data/pm25-data.json\";import\"./index.css\";import{jsx as _jsx}from\"react/jsx-runtime\";function PM25Chart(){var chartRef=useRef();useEffect(function(){var margin={top:20,right:20,bottom:60,left:60};var width=1000-margin.left-margin.right;var height=400-margin.top-margin.bottom;var svg=d3.select(chartRef.current).attr(\"width\",width+margin.left+margin.right).attr(\"height\",height+margin.top+margin.bottom).append(\"g\").attr(\"transform\",\"translate(\".concat(margin.left,\", \").concat(margin.top,\")\"));// Create scales\nvar xScale=d3.scaleBand().domain(jsonData.map(function(d){return d.city;})).range([0,width]).padding(0.3);var yScale=d3.scaleLinear().domain([0,d3.max(jsonData,function(d){return d[\"PM2.5 AQI Value\"];})]).range([height,0]);svg.selectAll(\".co-bar\").data(jsonData).enter().append(\"rect\").attr(\"class\",\"co-bar\").attr(\"x\",function(d){return xScale(d.city);}).attr(\"y\",function(d){return yScale(d[\"PM2.5 AQI Value\"]);}).attr(\"width\",xScale.bandwidth()).attr(\"height\",function(d){return height-yScale(d[\"PM2.5 AQI Value\"]);});svg.append(\"g\").attr(\"transform\",\"translate(0, \".concat(height,\")\")).call(d3.axisBottom(xScale));svg.append(\"text\").attr(\"transform\",\"translate(\".concat(width/2,\", \").concat(height+margin.top+25,\")\")).style(\"text-anchor\",\"middle\").style(\"font-size\",\"18px\").style(\"font-weight\",\"bolder\").text(\"Chart4: 15 cities with the worst PM2.5 AQI values worldwide\");svg.append(\"g\").call(d3.axisLeft(yScale));},[]);return/*#__PURE__*/_jsx(\"svg\",{ref:chartRef});}export default PM25Chart;","map":{"version":3,"names":["React","useEffect","useRef","d3","jsonData","jsx","_jsx","PM25Chart","chartRef","margin","top","right","bottom","left","width","height","svg","select","current","attr","append","concat","xScale","scaleBand","domain","map","d","city","range","padding","yScale","scaleLinear","max","selectAll","data","enter","bandwidth","call","axisBottom","style","text","axisLeft","ref"],"sources":["/Users/yinjia/Desktop/react-d3/d3-website/src/components/page2/PM25Chart.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\nimport jsonData from \"../Data/pm25-data.json\";\n\nimport \"./index.css\";\n\nfunction PM25Chart() {\n  const chartRef = useRef();\n  useEffect(() => {\n    const margin = { top: 20, right: 20, bottom: 60, left: 60 };\n    const width = 1000 - margin.left - margin.right;\n    const height = 400 - margin.top - margin.bottom;\n\n    const svg = d3\n      .select(chartRef.current)\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", height + margin.top + margin.bottom)\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.left}, ${margin.top})`);\n\n    // Create scales\n    const xScale = d3\n      .scaleBand()\n      .domain(jsonData.map((d) => d.city))\n      .range([0, width])\n      .padding(0.3);\n\n    const yScale = d3\n      .scaleLinear()\n      .domain([0, d3.max(jsonData, (d) => d[\"PM2.5 AQI Value\"])])\n      .range([height, 0]);\n\n    svg\n      .selectAll(\".co-bar\")\n      .data(jsonData)\n      .enter()\n      .append(\"rect\")\n      .attr(\"class\", \"co-bar\")\n      .attr(\"x\", (d) => xScale(d.city))\n      .attr(\"y\", (d) => yScale(d[\"PM2.5 AQI Value\"]))\n      .attr(\"width\", xScale.bandwidth())\n      .attr(\"height\", (d) => height - yScale(d[\"PM2.5 AQI Value\"]));\n\n    svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(0, ${height})`)\n      .call(d3.axisBottom(xScale));\n\n    svg\n      .append(\"text\")\n      .attr(\"transform\", `translate(${width / 2}, ${height + margin.top + 25})`)\n      .style(\"text-anchor\", \"middle\")\n      .style(\"font-size\", \"18px\")\n      .style(\"font-weight\", \"bolder\")\n      .text(\"Chart4: 15 cities with the worst PM2.5 AQI values worldwide\");\n\n    svg.append(\"g\").call(d3.axisLeft(yScale));\n  }, []);\n\n  return <svg ref={chartRef} />;\n}\n\nexport default PM25Chart;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAChD,MAAO,GAAK,CAAAC,EAAE,KAAM,IAAI,CACxB,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAE7C,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAErB,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnB,GAAM,CAAAC,QAAQ,CAAGN,MAAM,CAAC,CAAC,CACzBD,SAAS,CAAC,UAAM,CACd,GAAM,CAAAQ,MAAM,CAAG,CAAEC,GAAG,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAE,CAAEC,MAAM,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAG,CAAC,CAC3D,GAAM,CAAAC,KAAK,CAAG,IAAI,CAAGL,MAAM,CAACI,IAAI,CAAGJ,MAAM,CAACE,KAAK,CAC/C,GAAM,CAAAI,MAAM,CAAG,GAAG,CAAGN,MAAM,CAACC,GAAG,CAAGD,MAAM,CAACG,MAAM,CAE/C,GAAM,CAAAI,GAAG,CAAGb,EAAE,CACXc,MAAM,CAACT,QAAQ,CAACU,OAAO,CAAC,CACxBC,IAAI,CAAC,OAAO,CAAEL,KAAK,CAAGL,MAAM,CAACI,IAAI,CAAGJ,MAAM,CAACE,KAAK,CAAC,CACjDQ,IAAI,CAAC,QAAQ,CAAEJ,MAAM,CAAGN,MAAM,CAACC,GAAG,CAAGD,MAAM,CAACG,MAAM,CAAC,CACnDQ,MAAM,CAAC,GAAG,CAAC,CACXD,IAAI,CAAC,WAAW,cAAAE,MAAA,CAAeZ,MAAM,CAACI,IAAI,OAAAQ,MAAA,CAAKZ,MAAM,CAACC,GAAG,KAAG,CAAC,CAEhE;AACA,GAAM,CAAAY,MAAM,CAAGnB,EAAE,CACdoB,SAAS,CAAC,CAAC,CACXC,MAAM,CAACpB,QAAQ,CAACqB,GAAG,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,CAACC,IAAI,GAAC,CAAC,CACnCC,KAAK,CAAC,CAAC,CAAC,CAAEd,KAAK,CAAC,CAAC,CACjBe,OAAO,CAAC,GAAG,CAAC,CAEf,GAAM,CAAAC,MAAM,CAAG3B,EAAE,CACd4B,WAAW,CAAC,CAAC,CACbP,MAAM,CAAC,CAAC,CAAC,CAAErB,EAAE,CAAC6B,GAAG,CAAC5B,QAAQ,CAAE,SAACsB,CAAC,QAAK,CAAAA,CAAC,CAAC,iBAAiB,CAAC,GAAC,CAAC,CAAC,CAC1DE,KAAK,CAAC,CAACb,MAAM,CAAE,CAAC,CAAC,CAAC,CAErBC,GAAG,CACAiB,SAAS,CAAC,SAAS,CAAC,CACpBC,IAAI,CAAC9B,QAAQ,CAAC,CACd+B,KAAK,CAAC,CAAC,CACPf,MAAM,CAAC,MAAM,CAAC,CACdD,IAAI,CAAC,OAAO,CAAE,QAAQ,CAAC,CACvBA,IAAI,CAAC,GAAG,CAAE,SAACO,CAAC,QAAK,CAAAJ,MAAM,CAACI,CAAC,CAACC,IAAI,CAAC,GAAC,CAChCR,IAAI,CAAC,GAAG,CAAE,SAACO,CAAC,QAAK,CAAAI,MAAM,CAACJ,CAAC,CAAC,iBAAiB,CAAC,CAAC,GAAC,CAC9CP,IAAI,CAAC,OAAO,CAAEG,MAAM,CAACc,SAAS,CAAC,CAAC,CAAC,CACjCjB,IAAI,CAAC,QAAQ,CAAE,SAACO,CAAC,QAAK,CAAAX,MAAM,CAAGe,MAAM,CAACJ,CAAC,CAAC,iBAAiB,CAAC,CAAC,GAAC,CAE/DV,GAAG,CACAI,MAAM,CAAC,GAAG,CAAC,CACXD,IAAI,CAAC,WAAW,iBAAAE,MAAA,CAAkBN,MAAM,KAAG,CAAC,CAC5CsB,IAAI,CAAClC,EAAE,CAACmC,UAAU,CAAChB,MAAM,CAAC,CAAC,CAE9BN,GAAG,CACAI,MAAM,CAAC,MAAM,CAAC,CACdD,IAAI,CAAC,WAAW,cAAAE,MAAA,CAAeP,KAAK,CAAG,CAAC,OAAAO,MAAA,CAAKN,MAAM,CAAGN,MAAM,CAACC,GAAG,CAAG,EAAE,KAAG,CAAC,CACzE6B,KAAK,CAAC,aAAa,CAAE,QAAQ,CAAC,CAC9BA,KAAK,CAAC,WAAW,CAAE,MAAM,CAAC,CAC1BA,KAAK,CAAC,aAAa,CAAE,QAAQ,CAAC,CAC9BC,IAAI,CAAC,6DAA6D,CAAC,CAEtExB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACiB,IAAI,CAAClC,EAAE,CAACsC,QAAQ,CAACX,MAAM,CAAC,CAAC,CAC3C,CAAC,CAAE,EAAE,CAAC,CAEN,mBAAOxB,IAAA,QAAKoC,GAAG,CAAElC,QAAS,CAAE,CAAC,CAC/B,CAEA,cAAe,CAAAD,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}