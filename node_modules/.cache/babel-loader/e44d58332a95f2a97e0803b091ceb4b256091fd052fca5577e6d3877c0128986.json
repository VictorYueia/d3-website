{"ast":null,"code":"import React,{useRef,useEffect}from\"react\";import*as d3 from\"d3\";import{jsx as _jsx}from\"react/jsx-runtime\";export var data=[{category:\"0\",percentage:35.13},{category:\"1-4\",percentage:44.91},{category:\"5-10\",percentage:12.8},{category:\"> 10\",percentage:7.16}];export var color=d3.scaleOrdinal([\"#4daf4a\",\"#B0D9B1\",\"#ff7f00\",\"#BF8B67\"]);var PieChart=function PieChart(){var ref=useRef();useEffect(function(){var pie=d3.pie().value(function(d){return d.percentage;});var width=600;var height=600;var radius=Math.min(width,height)/2-50;var arc=d3.arc().outerRadius(radius).innerRadius(0);var arcOver=d3.arc().outerRadius(radius+10).innerRadius(0);// Arc for mouseover state\nvar svg=d3.select(ref.current).attr(\"class\",\"pie\").attr(\"width\",width).attr(\"height\",height+60);var g=svg.append(\"g\").attr(\"transform\",\"translate(\".concat(width/2,\", \").concat(height/2,\")\"));var arcs=g.selectAll(\"arc\").data(pie(data)).enter().append(\"g\").attr(\"class\",\"arc\");arcs.append(\"path\").attr(\"d\",arc).attr(\"fill\",function(d){return color(d.data.category);});arcs.append(\"text\").attr(\"transform\",function(d){return\"translate(\".concat(arc.centroid(d),\")\");}).attr(\"text-anchor\",\"middle\").text(function(d){return d.data.category;}).style(\"font-weight\",\"bolder\");// Add hover event listener to the arcs\narcs.on(\"mouseover\",function(event,d){d3.select(this).select(\"path\").attr(\"d\",arcOver);}).on(\"mouseout\",function(event,d){d3.select(this).select(\"path\").attr(\"d\",arc);});svg.append(\"text\").attr(\"x\",width/2).attr(\"y\",height+10).style(\"text-anchor\",\"middle\").style(\"font-size\",\"18px\").style(\"font-weight\",\"bolder\").text(\"Chart6: Proportion of cities displayed according to NO2 AQI  in USA\");},[]);return/*#__PURE__*/_jsx(\"svg\",{ref:ref});};export default PieChart;","map":{"version":3,"names":["React","useRef","useEffect","d3","jsx","_jsx","data","category","percentage","color","scaleOrdinal","PieChart","ref","pie","value","d","width","height","radius","Math","min","arc","outerRadius","innerRadius","arcOver","svg","select","current","attr","g","append","concat","arcs","selectAll","enter","centroid","text","style","on","event"],"sources":["/Users/yinjia/Desktop/react-d3/d3-website/src/components/page4/NO2PieChart.js"],"sourcesContent":["import React, { useRef, useEffect } from \"react\";\nimport * as d3 from \"d3\";\n\nexport const data = [\n  { category: \"0\", percentage: 35.13 },\n  { category: \"1-4\", percentage: 44.91 },\n  { category: \"5-10\", percentage: 12.8 },\n  { category: \"> 10\", percentage: 7.16 },\n];\n\nexport const color = d3.scaleOrdinal([\n  \"#4daf4a\",\n  \"#B0D9B1\",\n  \"#ff7f00\",\n  \"#BF8B67\",\n]);\n\nconst PieChart = () => {\n  const ref = useRef();\n\n  useEffect(() => {\n    const pie = d3.pie().value((d) => d.percentage);\n\n    const width = 600;\n    const height = 600;\n    const radius = Math.min(width, height) / 2 - 50;\n\n    const arc = d3.arc().outerRadius(radius).innerRadius(0);\n    const arcOver = d3\n      .arc()\n      .outerRadius(radius + 10)\n      .innerRadius(0); // Arc for mouseover state\n\n    const svg = d3\n      .select(ref.current)\n      .attr(\"class\", \"pie\")\n      .attr(\"width\", width)\n      .attr(\"height\", height + 60);\n\n    const g = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${width / 2}, ${height / 2})`);\n\n    const arcs = g\n      .selectAll(\"arc\")\n      .data(pie(data))\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"arc\");\n\n    arcs\n      .append(\"path\")\n      .attr(\"d\", arc)\n      .attr(\"fill\", (d) => color(d.data.category));\n\n    arcs\n      .append(\"text\")\n      .attr(\"transform\", (d) => `translate(${arc.centroid(d)})`)\n      .attr(\"text-anchor\", \"middle\")\n      .text((d) => d.data.category)\n      .style(\"font-weight\", \"bolder\");\n\n    // Add hover event listener to the arcs\n    arcs\n      .on(\"mouseover\", function (event, d) {\n        d3.select(this).select(\"path\").attr(\"d\", arcOver);\n      })\n      .on(\"mouseout\", function (event, d) {\n        d3.select(this).select(\"path\").attr(\"d\", arc);\n      });\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", width / 2)\n      .attr(\"y\", height + 10)\n      .style(\"text-anchor\", \"middle\")\n      .style(\"font-size\", \"18px\")\n      .style(\"font-weight\", \"bolder\")\n      .text(\n        \"Chart6: Proportion of cities displayed according to NO2 AQI  in USA\"\n      );\n  }, []);\n\n  return <svg ref={ref}></svg>;\n};\n\nexport default PieChart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}