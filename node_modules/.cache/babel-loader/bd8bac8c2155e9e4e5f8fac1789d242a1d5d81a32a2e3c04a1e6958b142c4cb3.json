{"ast":null,"code":"var _jsxFileName = \"/Users/yinjia/Desktop/react-d3/d3-website/src/components/page1/MapChart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\nimport { feature } from \"topojson-client\";\nimport us from \"./states-10m.json\"; // 导入美国地理数据\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction USAMap() {\n  _s();\n  const ref = useRef();\n  //   const width = window.innerWidth * 0.7;\n  // const height = window.innerHeight * 0.3;\n  const width = 700;\n  const height = 500;\n  useEffect(() => {\n    const svg = d3.select(ref.current);\n    const projection = d3.geoAlbersUsa().fitSize([width, height], feature(us, us.objects.states));\n    const path = d3.geoPath().projection(projection);\n    const colorScale = d3.scaleOrdinal(d3.schemeCategory10);\n    const tooltip = d3.select(\"body\").append(\"div\").attr(\"class\", \"tooltip\").style(\"opacity\", 0);\n    svg.append(\"g\").selectAll(\"path\").data(feature(us, us.objects.states).features).join(\"path\").attr(\"d\", path).attr(\"stroke\", \"#000\").attr(\"fill\", d => colorScale(d.properties.name)).on(\"mouseover\", function (d) {\n      tooltip.transition().duration(200).style(\"opacity\", 0.9);\n      tooltip.html(d.properties.name).style(\"left\", d3.event.pageX + \"px\").style(\"top\", d3.event.pageY - 28 + \"px\");\n    }).on(\"mouseout\", function (d) {\n      tooltip.transition().duration(500).style(\"opacity\", 0);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: ref,\n    style: {\n      width: width,\n      height: height\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 10\n  }, this);\n}\n_s(USAMap, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n_c = USAMap;\nexport default USAMap;\nvar _c;\n$RefreshReg$(_c, \"USAMap\");","map":{"version":3,"names":["React","useEffect","useRef","d3","feature","us","jsxDEV","_jsxDEV","USAMap","_s","ref","width","height","svg","select","current","projection","geoAlbersUsa","fitSize","objects","states","path","geoPath","colorScale","scaleOrdinal","schemeCategory10","tooltip","append","attr","style","selectAll","data","features","join","d","properties","name","on","transition","duration","html","event","pageX","pageY","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/yinjia/Desktop/react-d3/d3-website/src/components/page1/MapChart.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\nimport { feature } from \"topojson-client\";\nimport us from \"./states-10m.json\"; // 导入美国地理数据\n\nfunction USAMap() {\n  const ref = useRef();\n  //   const width = window.innerWidth * 0.7;\n  // const height = window.innerHeight * 0.3;\n  const width = 700;\n  const height = 500;\n\n  useEffect(() => {\n    const svg = d3.select(ref.current);\n\n    const projection = d3\n      .geoAlbersUsa()\n      .fitSize([width, height], feature(us, us.objects.states));\n\n    const path = d3.geoPath().projection(projection);\n\n    const colorScale = d3.scaleOrdinal(d3.schemeCategory10);\n\n    const tooltip = d3\n      .select(\"body\")\n      .append(\"div\")\n      .attr(\"class\", \"tooltip\")\n      .style(\"opacity\", 0);\n\n    svg\n      .append(\"g\")\n      .selectAll(\"path\")\n      .data(feature(us, us.objects.states).features)\n      .join(\"path\")\n      .attr(\"d\", path)\n      .attr(\"stroke\", \"#000\")\n\n      .attr(\"fill\", (d) => colorScale(d.properties.name))\n      .on(\"mouseover\", function (d) {\n        tooltip.transition().duration(200).style(\"opacity\", 0.9);\n        tooltip\n          .html(d.properties.name)\n          .style(\"left\", d3.event.pageX + \"px\")\n          .style(\"top\", d3.event.pageY - 28 + \"px\");\n      })\n      .on(\"mouseout\", function (d) {\n        tooltip.transition().duration(500).style(\"opacity\", 0);\n      });\n  }, []);\n\n  return <svg ref={ref} style={{ width: width, height: height }} />;\n}\n\nexport default USAMap;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}