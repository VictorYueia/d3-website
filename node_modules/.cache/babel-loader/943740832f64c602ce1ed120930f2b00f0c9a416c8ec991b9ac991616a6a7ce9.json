{"ast":null,"code":"var _jsxFileName = \"/Users/yinjia/Desktop/react-d3/d3-website/src/components/page1/PM25PieChart.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from \"react\";\nimport * as d3 from \"d3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const data = [{\n  category: \"Good\",\n  percentage: 43.51\n}, {\n  category: \"Moderate\",\n  percentage: 38.68\n}, {\n  category: \"Unhealthy\",\n  percentage: 9.07\n}, {\n  category: \"Unhealthy for Sensitive Groups\",\n  percentage: 6.92\n}, {\n  category: \"Very Unhealthy\",\n  percentage: 1.09\n}, {\n  category: \"Hazardous\",\n  percentage: 0.73\n}];\nexport const color = d3.scaleOrdinal([\"#4daf4a\", \"#377eb8\", \"#ff7f00\", \"#BF8B67\", \"#9D5353\", \"#632626\"]);\nconst PieChart = () => {\n  _s();\n  const ref = useRef();\n  useEffect(() => {\n    const pie = d3.pie().value(d => d.percentage);\n    const width = 500;\n    const height = 500;\n    const radius = Math.min(width, height) / 2;\n    const arc = d3.arc().outerRadius(radius).innerRadius(0);\n    const svg = d3.select(ref.current).attr(\"class\", \"pie\").attr(\"width\", width).attr(\"height\", height);\n    const g = svg.append(\"g\").attr(\"transform\", `translate(${width / 2}, ${height / 2})`);\n    const arcs = g.selectAll(\"arc\").data(pie(data)).enter().append(\"g\").attr(\"class\", \"arc\");\n    arcs.append(\"path\").attr(\"d\", arc).attr(\"fill\", d => color(d.data.category));\n    arcs.append(\"text\").attr(\"transform\", d => `translate(${arc.centroid(d)})`).attr(\"text-anchor\", \"middle\").text(d => d.data.category);\n    svg.append(\"text\").attr(\"x\", width / 2).attr(\"y\", height + 10).style(\"text-anchor\", \"middle\").style(\"font-size\", \"18px\").style(\"font-weight\", \"bolder\").text(\"Proportion of cities displayed according to PM2.5 classification in USA\");\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 10\n  }, this);\n};\n_s(PieChart, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n_c = PieChart;\nexport default PieChart;\nvar _c;\n$RefreshReg$(_c, \"PieChart\");","map":{"version":3,"names":["React","useRef","useEffect","d3","jsxDEV","_jsxDEV","data","category","percentage","color","scaleOrdinal","PieChart","_s","ref","pie","value","d","width","height","radius","Math","min","arc","outerRadius","innerRadius","svg","select","current","attr","g","append","arcs","selectAll","enter","centroid","text","style","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/yinjia/Desktop/react-d3/d3-website/src/components/page1/PM25PieChart.js"],"sourcesContent":["import React, { useRef, useEffect } from \"react\";\nimport * as d3 from \"d3\";\n\nexport const data = [\n  { category: \"Good\", percentage: 43.51 },\n  { category: \"Moderate\", percentage: 38.68 },\n  { category: \"Unhealthy\", percentage: 9.07 },\n  { category: \"Unhealthy for Sensitive Groups\", percentage: 6.92 },\n  { category: \"Very Unhealthy\", percentage: 1.09 },\n  { category: \"Hazardous\", percentage: 0.73 },\n];\n\nexport const color = d3.scaleOrdinal([\n  \"#4daf4a\",\n  \"#377eb8\",\n  \"#ff7f00\",\n  \"#BF8B67\",\n  \"#9D5353\",\n  \"#632626\",\n]);\nconst PieChart = () => {\n  const ref = useRef();\n\n  useEffect(() => {\n    const pie = d3.pie().value((d) => d.percentage);\n\n    const width = 500;\n    const height = 500;\n    const radius = Math.min(width, height) / 2;\n\n    const arc = d3.arc().outerRadius(radius).innerRadius(0);\n\n    const svg = d3\n      .select(ref.current)\n      .attr(\"class\", \"pie\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n\n    const g = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${width / 2}, ${height / 2})`);\n\n    const arcs = g\n      .selectAll(\"arc\")\n      .data(pie(data))\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"arc\");\n\n    arcs\n      .append(\"path\")\n      .attr(\"d\", arc)\n      .attr(\"fill\", (d) => color(d.data.category));\n\n    arcs\n      .append(\"text\")\n      .attr(\"transform\", (d) => `translate(${arc.centroid(d)})`)\n      .attr(\"text-anchor\", \"middle\")\n      .text((d) => d.data.category);\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", width / 2)\n      .attr(\"y\", height + 10)\n      .style(\"text-anchor\", \"middle\")\n      .style(\"font-size\", \"18px\")\n      .style(\"font-weight\", \"bolder\")\n      .text(\n        \"Proportion of cities displayed according to PM2.5 classification in USA\"\n      );\n  }, []);\n\n  return <svg ref={ref}></svg>;\n};\n\nexport default PieChart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}