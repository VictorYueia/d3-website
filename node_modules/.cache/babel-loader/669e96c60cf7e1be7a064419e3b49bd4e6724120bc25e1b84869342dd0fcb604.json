{"ast":null,"code":"var _jsxFileName = \"/Users/yinjia/Desktop/react-d3/d3-website/src/components/page4/NO2PieChart.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from \"react\";\nimport * as d3 from \"d3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const data = [{\n  category: \"0\",\n  percentage: 35.13\n}, {\n  category: \"1-4\",\n  percentage: 44.91\n}, {\n  category: \"5-10\",\n  percentage: 12.8\n}, {\n  category: \"> 10\",\n  percentage: 7.16\n}];\nexport const color = d3.scaleOrdinal([\"#4daf4a\", \"#B0D9B1\", \"#ff7f00\", \"#BF8B67\"]);\nconst PieChart = () => {\n  _s();\n  const ref = useRef();\n  useEffect(() => {\n    const pie = d3.pie().value(d => d.percentage);\n    const width = 600;\n    const height = 600;\n    const radius = Math.min(width, height) / 2 - 50;\n    const arc = d3.arc().outerRadius(radius).innerRadius(0);\n    const arcOver = d3.arc().outerRadius(radius + 10).innerRadius(0); // Arc for mouseover state\n\n    const svg = d3.select(ref.current).attr(\"class\", \"pie\").attr(\"width\", width).attr(\"height\", height + 60);\n    const g = svg.append(\"g\").attr(\"transform\", `translate(${width / 2}, ${height / 2})`);\n    const arcs = g.selectAll(\"arc\").data(pie(data)).enter().append(\"g\").attr(\"class\", \"arc\");\n    arcs.append(\"path\").attr(\"d\", arc).attr(\"fill\", d => color(d.data.category));\n    arcs.append(\"text\").attr(\"transform\", d => `translate(${arc.centroid(d)})`).attr(\"text-anchor\", \"middle\").text(d => d.data.category).style(\"font-weight\", \"bolder\");\n\n    // Add hover event listener to the arcs\n    arcs.on(\"mouseover\", function (event, d) {\n      d3.select(this).select(\"path\").attr(\"d\", arcOver);\n    }).on(\"mouseout\", function (event, d) {\n      d3.select(this).select(\"path\").attr(\"d\", arc);\n    });\n    svg.append(\"text\").attr(\"x\", width / 2).attr(\"y\", height + 10).style(\"text-anchor\", \"middle\").style(\"font-size\", \"18px\").style(\"font-weight\", \"bolder\").text(\"Chart6: Proportion of cities displayed according to NO2 AQI  in USA\");\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: ref\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 10\n  }, this);\n};\n_s(PieChart, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n_c = PieChart;\nexport default PieChart;\nvar _c;\n$RefreshReg$(_c, \"PieChart\");","map":{"version":3,"names":["React","useRef","useEffect","d3","jsxDEV","_jsxDEV","data","category","percentage","color","scaleOrdinal","PieChart","_s","ref","pie","value","d","width","height","radius","Math","min","arc","outerRadius","innerRadius","arcOver","svg","select","current","attr","g","append","arcs","selectAll","enter","centroid","text","style","on","event","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/yinjia/Desktop/react-d3/d3-website/src/components/page4/NO2PieChart.js"],"sourcesContent":["import React, { useRef, useEffect } from \"react\";\nimport * as d3 from \"d3\";\n\nexport const data = [\n  { category: \"0\", percentage: 35.13 },\n  { category: \"1-4\", percentage: 44.91 },\n  { category: \"5-10\", percentage: 12.8 },\n  { category: \"> 10\", percentage: 7.16 },\n];\n\nexport const color = d3.scaleOrdinal([\n  \"#4daf4a\",\n  \"#B0D9B1\",\n  \"#ff7f00\",\n  \"#BF8B67\",\n]);\n\nconst PieChart = () => {\n  const ref = useRef();\n\n  useEffect(() => {\n    const pie = d3.pie().value((d) => d.percentage);\n\n    const width = 600;\n    const height = 600;\n    const radius = Math.min(width, height) / 2 - 50;\n\n    const arc = d3.arc().outerRadius(radius).innerRadius(0);\n    const arcOver = d3\n      .arc()\n      .outerRadius(radius + 10)\n      .innerRadius(0); // Arc for mouseover state\n\n    const svg = d3\n      .select(ref.current)\n      .attr(\"class\", \"pie\")\n      .attr(\"width\", width)\n      .attr(\"height\", height + 60);\n\n    const g = svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(${width / 2}, ${height / 2})`);\n\n    const arcs = g\n      .selectAll(\"arc\")\n      .data(pie(data))\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"arc\");\n\n    arcs\n      .append(\"path\")\n      .attr(\"d\", arc)\n      .attr(\"fill\", (d) => color(d.data.category));\n\n    arcs\n      .append(\"text\")\n      .attr(\"transform\", (d) => `translate(${arc.centroid(d)})`)\n      .attr(\"text-anchor\", \"middle\")\n      .text((d) => d.data.category)\n      .style(\"font-weight\", \"bolder\");\n\n    // Add hover event listener to the arcs\n    arcs\n      .on(\"mouseover\", function (event, d) {\n        d3.select(this).select(\"path\").attr(\"d\", arcOver);\n      })\n      .on(\"mouseout\", function (event, d) {\n        d3.select(this).select(\"path\").attr(\"d\", arc);\n      });\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", width / 2)\n      .attr(\"y\", height + 10)\n      .style(\"text-anchor\", \"middle\")\n      .style(\"font-size\", \"18px\")\n      .style(\"font-weight\", \"bolder\")\n      .text(\n        \"Chart6: Proportion of cities displayed according to NO2 AQI  in USA\"\n      );\n  }, []);\n\n  return <svg ref={ref}></svg>;\n};\n\nexport default PieChart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}